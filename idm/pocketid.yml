services:
  opencloud:
    environment:
      # OIDC / external IDP
      IDP_DOMAIN: ${IDP_DOMAIN}
      OC_OIDC_ISSUER: ${OC_OIDC_ISSUER}
      OC_EXCLUDE_RUN_SERVICES: ${OC_EXCLUDE_RUN_SERVICES}

      PROXY_OIDC_REWRITE_WELLKNOWN: ${PROXY_OIDC_REWRITE_WELLKNOWN}
      PROXY_OIDC_ACCESS_TOKEN_VERIFY_METHOD: ${PROXY_OIDC_ACCESS_TOKEN_VERIFY_METHOD}
      PROXY_OIDC_SKIP_VERIFICATION: ${PROXY_OIDC_SKIP_VERIFICATION}

      WEB_OIDC_CLIENT_ID: ${WEB_OIDC_CLIENT_ID}
      WEB_OIDC_SCOPE: ${WEB_OIDC_SCOPE}

      PROXY_USER_OIDC_CLAIM: ${PROXY_USER_OIDC_CLAIM}
      PROXY_AUTOPROVISION_CLAIM_USERNAME: ${PROXY_AUTOPROVISION_CLAIM_USERNAME}
      PROXY_AUTOPROVISION_ACCOUNTS: ${PROXY_AUTOPROVISION_ACCOUNTS}

      PROXY_ROLE_ASSIGNMENT_DRIVER: ${PROXY_ROLE_ASSIGNMENT_DRIVER}
      PROXY_ROLE_ASSIGNMENT_OIDC_CLAIM: ${PROXY_ROLE_ASSIGNMENT_OIDC_CLAIM}
      GRAPH_ASSIGN_DEFAULT_USER_ROLE: ${GRAPH_ASSIGN_DEFAULT_USER_ROLE}
      GRAPH_USERNAME_MATCH: ${GRAPH_USERNAME_MATCH}
